# 海中浮遊物カウンター (Web版)

これは、動画ファイルから海中の浮遊物の量を概算するためのWebアプリケーションです。Python製の[オリジナル版](https://github.com/kuronos357/marine-object-counter)を、クライアントサイドで動作するWebアプリとしてReactとTypeScriptを用いて再実装したものです。

サーバーへの動画アップロードが不要なため、大きな動画ファイルでもプライバシーと速度を保ちながら処理できます。

## 主な機能

- ブラウザ完結型の動画処理
- 深度に応じたフレームの自動抽出と解析
- 白ピクセル率（浮遊物の概算値）の計算
- 処理結果のグラフ表示
- 解析データのCSV形式でのダウンロード

## 技術スタック

- [React](https://react.dev/) - UIライブラリ
- [TypeScript](https://www.typescriptlang.org/) - JavaScriptへの型付け
- [Vite](https://vitejs.dev/) - 開発サーバーとビルドツール
- [OpenCV.js](https://docs.opencv.org/4.x/d5/d10/tutorial_js_root.html) - 画像処理
- [Recharts](https://recharts.org/) - グラフ描画
- [React-CSV](https://github.com/react-csv/react-csv) - CSVダウンロード

## セットアップと実行方法

### 1. 前提条件

- [Node.js](https://nodejs.org/) (v18以降を推奨) がインストールされていること。

### 2. 依存関係のインストール

プロジェクトのルートディレクトリで、以下のコマンドを実行します。

```bash
npm install
```

### 3. 開発サーバーの起動

依存関係のインストール後、以下のコマンドで開発サーバーを起動します。

```bash
npm run dev
```

ターミナルに表示されたローカルURL（例: `http://localhost:5173`）をブラウザで開くと、アプリケーションにアクセスできます。

## 使い方

1.  **動画ファイルを選択**: 「動画ファイルを選択」ボタンを押し、解析したい動画ファイルを選びます。
2.  **深度(m)を入力**: 解析の基準となる深度を入力します。
3.  **動画を処理**: 「動画を処理」ボタンを押すと、ブラウザ上で解析が始まります。処理中は進捗が表示されます。
4.  **結果の確認**: 処理が完了すると、深度ごとの白ピクセル率を示したグラフが表示されます。
5.  **CSVをダウンロード**: グラフの下にある「CSVをダウンロード」リンクをクリックすると、解析データをCSVファイルとして保存できます。